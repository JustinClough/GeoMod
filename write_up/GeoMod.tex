\documentclass[a4paper, 12pt]{article}
\author{Justin Clough, RIN:661682899}
\title{FEP Course Project: \\
        GeoMod}
\usepackage[margin=1.0in]{geometry}
\usepackage{float}
\usepackage{enumerate}
\usepackage{listings}
\lstset{
    frame=single,
    breaklines=true,
}
\usepackage{graphicx}
\graphicspath{ {images/} }

\begin{document}
\maketitle

\begin{abstract}
abstract text goes here.

\end{abstract}

\section{Introduction} \label{sec:intro}
Introduction text goes here.

\section{Code Design} \label{sec:design}
The user interacts with the code by constructing a \emph{gmd}
object based on an existing in-memory Simmetrix geometric model that they 
wish to modify. The header and source files for the gmd class 
are shown in Appendices \ref{subsec:gmd_hpp} and \ref{subsec:gmd_cpp}, 
respectively.  The user can then modify the model by 
creating model vertices, edges, and faces by calling
gmd member functions. Mesh case information for these 
modifications is also specified by the user at this time. 
The gmd class is primarily a wrapper around two other classes. It also
has member functions that check the validity of user input for creating 
edges and faces. The two classes that it wraps inturn wrap around Simmetrix APIs.

The first class is the \emph{model\_helper} class 
which handles all model interactions. This includes making modifications to
the model, checking its validity, and writing it to disk. Its member variables
include a pointer to the Simmetrix model. The header and source file the 
model\_helper class are shown in Appendidices \ref{subsec:model_hpp} and 
\ref{subsec:model_cpp}, respectively. The APIs used are from Simmetrix's 
GeoSim Core and Advanced libraries \cite{Simmetrix}. 

The second class wrapped within the gmd class is the
\emph{mesh\_helper} class which handles all mesh interactions. This includes
defining global and local mesh parameters, checking for validity, and writing the
mesh. Its member include a pointer to a Simmmetrix mesh object and mesh case object. 
The header and source file for the mesh\_helper class are shown in 
Appendices \ref{subsec:mesh_hpp} and \ref{subsec:mesh_cpp}, respectively.
The APIs used are from Simmetrix's MeshSim Core and Advanced libraries 
\cite{Simmetrix}

Model entities are always created on the geometric entity with the
lowest possible dimension when applicable. This ensures correct classification when model
or mesh entities are later interrogated. For example, say the
user wants to create a vertex whose coordinates lie upon an edge
which bounds a face of a region. The vertex will be created and 
classified as a entity on the edge as opposed to only the face or region. 
This is detailed in subsection \ref{subsec:vertex} and  demonstrated 
in subsection \ref{subsec:vertexTest}.

Mesh case information, such as local refinement level, are
specified at during model modification by the user; the finer
spcification is always used. For example, if the user 
creates an edge with a relative local refinement of 0.1
and creates a vertex on that edge with a refinement of 0.5, 
then only a refinement level of 0.1 will be used throughout 
the whole edge. Alternatively, if a refinement level of 0.5 
is specified for the edge and 0.1 specifed for a vertex on that
edge, then a refinement level of 0.5 will be used throughout the 
edge except for space near the vertex. The rate at which the 
refinement level decreases from 0.5 to 0.1 for this case is controlled
by the gradation rate. A rate of 2/3 is used by default 
but can be changed by the user. 

Details regarding model vertex, edge, and face placement are 
discussed in subsections \ref{subsec:vertex}, \ref{subsec:edge}, 
and \ref{subsec:face}, respectively. Testing and results of tests
are presented in section \ref{sec:testing}.

\subsection{Vertex Placement} \label{subsec:vertex}
The gmd member function \emph{place\_point()} is used to create model
vertices as well as define the local mesh refinement level for the created vertex.
The user specifies the coordinates of the vertex they want to create, the 
relative mesh refinement level, the radius of refinement, and a Simmetrix
model vertex pointer that is overwritten to point to the created vertex. 
The Simmetrix APIs \emph{GE\_closestPoint()}, \emph{GF\_closestPoint()}, 
and \emph{GR\_containsPoint()} are used to determine whether a 3D coordinate 
is in a model edge, face, or region, respectively. \emph{GR\_containsPoint()}
returns an integer denoting if the point is inside or outside of the model region. 
The functions \emph{GE\_closestPoint()} and \emph{GF\_closestPoint()} both return 
pointers to the real and parametric coordinates closest to a given test coordinate. 
The real coordinates of the closest point are then compared to the test point.
If the magnitude of the distance between the two points is less then the 
tolerance of the model, then a model vertex is created. 
The value returned from the API \emph{GM\_tolerance()} is used as the 
tolerance for all geometric comparisons.

\subsection{Edge Placement} \label{subsec:edge}
Edge placement text.

\subsection{Face Placement} \label{subsec:face}
Face placement text.

\section{Testing} \label{sec:testing}
Introduction text goes here.

\subsection{Vertex Placement} \label{subsec:vertexTest}
Test Vertex placement text.

\subsection{Edge Placement} \label{subsec:edgeTest}
Test Edge placement text.

\subsection{Face Placement} \label{subsec:faceTest}
Test Face placement text.

\section{Conclusion} \label{sec:conclusion}
Conclusions text. 

\subsection{Future Work} \label{subsec:future}
Future work text.

\newpage
\begin{thebibliography}{99}

\bibitem{Simmetrix}
Simmetrix Inc., 
"The simulation modeling suite."
\textit{[Online]. Available: http://www.simmetrix.com/.}


% The bibitem below is just an example!!!
\bibitem{referenceName} 
Authors' Names. 
Publication Title.
Publisher Name, Publisher Location, Publication Year.

\end{thebibliography}

\newpage
\appendix
\section{Code} \label{sec:code}

\subsection{main.cpp} \label{subsec:main_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/main.cpp}

\subsection{GeoMod\_Tests.hpp} \label{subsec:Tests_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_Tests.hpp}
\subsection{GeoMod\_Tests.cpp} \label{subsec:Tests_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_Tests.cpp}

\subsection{GeoMod\_gmd.hpp} \label{subsec:gmd_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_gmd_t.hpp}
\subsection{GeoMod\_gmd.cpp} \label{subsec:gmd_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_gmd_t.cpp}

\subsection{GeoMod\_model\_helper.hpp} \label{subsec:model_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_model_helper.hpp}
\subsection{GeoMod\_model\_helper.cpp} \label{subsec:model_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_model_helper.cpp}

\subsection{GeoMod\_mesh\_helper.hpp} \label{subsec:mesh_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_mesh_helper.hpp}
\subsection{GeoMod\_mesh\_helper.cpp} \label{subsec:mesh_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_mesh_helper.cpp}

\subsection{GeoMod\_printer.hpp} \label{subsec:printer_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_printer.hpp}
\subsection{GeoMod\_printer.cpp} \label{subsec:printer_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_printer.cpp}

\subsection{GeoMod\_coords.hpp} \label{subsec:coords_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_coords.hpp}
\subsection{GeoMod\_coords.cpp} \label{subsec:coords_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_coords.cpp}

\subsection{GeoMod\_util.hpp} \label{subsec:util_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_util.hpp}
\subsection{GeoMod\_util.cpp} \label{subsec:util_cpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_util.cpp}

\subsection{GeoMod\_SIM.hpp} \label{subsec:SIM_hpp}
\lstinputlisting{/lore/clougj/GeoMod/src/GeoMod_SIM.hpp}

\end{document}
